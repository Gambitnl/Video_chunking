# BUG_HUNT_TODO.md - Preliminary To-Do List

## 2025-11-02 Bug Hunt Findings

This list summarizes preliminary findings from the bug hunt session on 2025-11-02. For detailed reproduction steps, evidence, and follow-up suggestions, please refer to `logs/bug_hunt/BugHunt_20251102_1200.md`.

### LangChain Test Coverage (P2.1-TESTING)

-   **BUG-20251102-01**: `CampaignChatClient.ask` - Add integration tests for full RAG pipeline (retriever + LLM). (High)
-   **BUG-20251102-02**: `CampaignChatClient.ask` - Test with various `context` inputs. (Medium)
-   **BUG-20251102-03**: `CampaignChatClient.ask` - Test error handling when `retriever.retrieve` fails. (Medium)
-   **BUG-20251102-04**: `CampaignChatClient.ask` - Test error handling when `llm` call fails. (Medium)
-   **BUG-20251102-05**: `CampaignChatClient._initialize_llm` - Add tests for `langchain_community.llms.Ollama` fallback. (Low)
-   **BUG-20251102-06**: `CampaignChatClient._initialize_memory` - Add tests for `langchain_classic.memory.ConversationBufferMemory` and `langchain.memory.ConversationBufferMemory` fallbacks. (Low)
-   **BUG-20251102-07**: `CampaignChatClient._load_system_prompt` - Test `campaign_name`, `num_sessions`, `pc_names` placeholders. (Medium)
-   **BUG-20251102-08**: `CampaignChatChain.ask` - Add integration tests for full chain functionality. (High)
-   **BUG-20251102-09**: `CampaignChatChain.ask` - Test with various `question` inputs and expected `source_documents`. (Medium)
-   **BUG-20251102-10**: `CampaignChatChain.ask` - Test error handling when `self.chain` call fails. (Medium)
-   **BUG-20251102-11**: `ConversationStore.add_message` - Test adding messages with and without sources. (Low)
-   **BUG-20251102-12**: `ConversationStore.add_message` - Test updating `relevant_sessions` in context. (Medium)
-   **BUG-20251102-13**: `ConversationStore.load_conversation` - Test loading a corrupted JSON file. (Medium)
-   **BUG-20251102-14**: `ConversationStore.list_conversations` - Test with a large number of conversations. (Medium)
-   **BUG-20251102-15**: `ConversationStore.list_conversations` - Test error handling for corrupted conversation files. (Medium)
-   **BUG-20251102-16**: `ConversationStore.delete_conversation` - Test deleting a non-existent conversation. (Low)
-   **BUG-20251102-17**: `ConversationStore.get_chat_history` - Test with an empty conversation. (Low)
-   **BUG-20251102-18**: `HybridSearcher.search` - Add integration tests with actual `vector_store` and `keyword_retriever` instances. (High)
-   **BUG-20251102-19**: `HybridSearcher.search` - Test with varying `top_k` and `semantic_weight` values. (Medium)
-   **BUG-20251102-20**: `HybridSearcher.search` - Test when one of the underlying search methods returns an error. (Medium)
-   **BUG-20251102-21**: `HybridSearcher._reciprocal_rank_fusion` - Test with more complex scenarios. (Medium)
-   **BUG-20251102-22**: `CampaignRetriever.retrieve` - Add integration tests with actual knowledge base and transcript files. (High)
-   **BUG-20251102-23**: `CampaignRetriever._search_knowledge_bases` - Test with various query types. (Medium)
-   **BUG-20251102-24**: `CampaignRetriever._search_transcripts` - Test with different query matching scenarios. (Medium)
-   **BUG-20251102-25**: `CampaignRetriever._load_knowledge_base` - Test cache eviction logic. (Medium)
-   **BUG-20251102-26**: `CampaignVectorStore.add_transcript_segments` - Test with a very large number of segments. (High)
-   **BUG-20251102-27**: `CampaignVectorStore.add_knowledge_documents` - Test with various document structures and metadata. (Medium)
-   **BUG-20251102-28**: `CampaignVectorStore.search` - Test with `collection` parameter. (Medium)
-   **BUG-20251102-29**: `CampaignVectorStore.delete_session` - Test deleting a session with no segments. (Low)
-   **BUG-20251102-30**: `CampaignVectorStore.clear_all` - Test destructive nature and recreation of collections. (Medium)
-   **BUG-20251102-31**: `CampaignVectorStore.get_stats` - Test with empty and populated collections. (Low)
-   **BUG-20251102-32**: General - Add performance tests for LangChain components. (High)
-   **BUG-20251102-33**: General - Add concurrency tests for `CampaignChatClient` and `CampaignChatChain` interactions. (High)
-   **BUG-20251102-34**: General - Improve test data complexity for all LangChain tests. (Medium)
-   **BUG-20251102-35**: General - Add tests for error paths and edge cases not currently covered. (High)

### Campaign Chat UI Improvements (P2.1-UX)

-   **BUG-20251102-36**: UI - Implement loading indicators for LLM calls in the Campaign Chat tab. (High)
-   **BUG-20251102-37**: UI - Replace internal exceptions with user-friendly error messages in the Campaign Chat tab. (High)
-   **BUG-20251102-38**: UI - Add functionality to delete conversations in the Campaign Chat tab. (Medium)
-   **BUG-20251102-39**: UI - Add functionality to rename conversations in the Campaign Chat tab. (Medium)
-   **BUG-20251102-40**: UI - Ensure the conversation dropdown updates immediately after sending a message. (Medium)
-   **BUG-20251102-41**: UI - Improve the display of sources, potentially showing all relevant sources for a conversation, not just the last message. (Medium)
-   **BUG-20251102-42**: UI - Implement a clear "new conversation" button or flow. (Low)
-   **BUG-20251102-43**: UI - Add a character limit display for the chat input field. (Low)
-   **BUG-20251102-44**: UI - Ensure chat history scrolls to the bottom automatically on new messages. (Low)
-   **BUG-20251102-45**: UI - Add a "copy to clipboard" option for LLM responses. (Low)
-   **BUG-20251102-46**: UI - Implement a mechanism to display the current LLM model being used. (Low)
-   **BUG-20251102-47**: UI - Add a "clear chat" button for the current conversation. (Medium)

### Recently Completed P1 Features (Regression Hunt)

-   **BUG-20251102-48**: Character Profile Extraction - Test with transcripts containing unusual character names or dialogue patterns. (Medium)
-   **BUG-20251102-49**: Character Profile Extraction - Test with very long transcripts to ensure performance and memory usage are acceptable. (High)
-   **BUG-20251102-50**: Character Profile Extraction - Verify that extracted profiles are correctly saved and loaded. (Medium)
-   **BUG-20251102-51**: UI Modernization - Test all 5 consolidated tabs for responsiveness on different screen sizes. (Medium)
-   **BUG-20251102-52**: UI Modernization - Verify all progressive disclosure elements (accordions, collapsible sections) function correctly. (Medium)
-   **BUG-20251102-53**: UI Modernization - Check for any broken links or missing elements in the new UI. (Medium)
-   **BUG-20251102-54**: Campaign Lifecycle Manager - Test campaign creation, loading, and switching. (High)
-   **BUG-20251102-55**: Campaign Lifecycle Manager - Verify campaign-aware UI elements (filtering, migrations) work as expected. (Medium)
-   **BUG-20251102-56**: Campaign Lifecycle Manager - Test edge cases for campaign migrations (e.g., empty campaign, corrupted campaign data). (Medium)
-   **BUG-20251102-57**: General P1 - Check for any performance regressions introduced by the new features. (High)
-   **BUG-20251102-58**: General P1 - Review logs for unexpected errors or warnings related to these new features. (Medium)
